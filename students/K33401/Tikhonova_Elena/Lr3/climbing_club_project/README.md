# Climbing club project

## Лабораторная работа №3 по дисциплине Web-программирование. Вариант 15.

Данный проект выполнен с помощью Django и DRF (Django rest framework).
Ниже находится список необходимого для работы (указаны также используемые версии):

- **python** (3.8.6rc1)
- **Django** (3.1.2)
- **djangorestframework** (3.12.4)
- **drf_yasg**
- **djoser** (2.1.0)

Кроме того, для корректного отображения html-страницы со всеми ссылками на маршруты к ендпоинтам, необходим интеренет, поскольку для ее создания использоваться бутстрап.

## Запуск

- перейти в папку, содержащую файл manage.py
- выполнить команду `./manage.py runserver`

## Описание варианта:

Создать программную систему, предназначенную для администратора альпинистского клуба.
Альпинистский клуб организует восхождения в разных точках мира. Система должна обеспечить сохранение информации о хронике восхождений. Для каждого восхождения формируется группа. В состав группы могут входить альпинисты из других клубов. Поэтому нужно иметь информацию о каждом клубе (название, страна, город, контактное лицо, e-mail, телефон). Необходимо иметь описание маршрута и продолжительность восхождения. Необходимо обеспечить сохранение даты/времени начала и завершения каждого восхождения (планируемого и фактического), имен и адресов участвовавших в нем альпинистов, названия и высоты горы, страны и района, где эта гора расположена. После завершения восхождения фиксируется информация об успешности восхождения для каждого участника и группы в целом. При возникновении нештатных ситуаций необходимо указать для каждого участника, что случилось (травма, пропал без вести, летальный исход и т.д.) и в пояснении о группе дать подробности.

##### Администратор должен иметь возможность:

- добавления сведений о новом альпинисте, новой вершине;
  - `climbers/create`
  - `peaks/create`
- изменении сведений об альпинистах и вершинах;
  - `climbers/<int:pk>`
  - `peaks/<int:pk>`
- формирования новых групп и внесения всей информации после завершениявосхождения группой.
  - `participations/create`

##### Перечень возможных запросов:

1. Показать список альпинистов, осуществлявших восхождение в указанный интервал дат.
   - `climbers/` даты начала и конца периода передаются в качестве GET-параметров
2. Показать список восхождений (групп), которые осуществлялись в указанный пользователем период времени.
   - `climbings/` даты - GET-параметры
3. Предоставить информацию о том, сколько альпинистов побывали на каждой горе.
   - `peaks/<int:pk>/unique_climbers`
4. Предоставить данные о вершинах, если на них не было восхождений.
   - `peaks/no_climbings`
5. Показать информацию о количестве восхождений каждого альпиниста на каждую гору.
   - `peaks/<int:pk>/climbing_count`

Все эти пункты реализованы как ендпоинты (Endpoint - конечная точка) — это само обращение к маршруту отдельным HTTP методом. Эндпоинт выполняют конкретную задачу, принимают параметры и возвращают данные Клиенту.
Конечно, используя методы сериализации. Все модели зарегистрированы в admin-панели Djnago.

## Swagger

Благодаря `drf_yasg`, по адресу `doc/swagger` у пользователей есть возможность просмотреть список всех ендпоинтов (включая те, которые предоставляют `rest_framework.authtoken` и `djoser`) с описанием типов полей.
